# 文件系统
## fs 模块
Node 针对文件操作提供了一个 ```fs``` 模块，要想进行文件操作，需要首先引入该模块。
## 同步和异步
```fs``` 模块中的方法均有同步和异步两种版本，可以按需进行调用，一般而言，建议使用异步的版本。
## 读取文件
使用 ```readFile``` 或 ```readFileSync``` 方法进行文件的读取操作。
## 打开/新建文件
使用 ```open``` 方法可以打开或者新建文件，也可以设置打开文件的行为，如只读操作、只写操作、读写操作、追加操作等。
```open``` 方法接收四个参数：
```
fs.open(filePath,flags,mode,callback)
```
其中，```filePath``` 是打开/新建文件的路径，```flags``` 是打开文件的行为，如是以只读方式打开。```mode``` 是设置文件的模式（权限），创建文件的权限默认为 0666（可读可写）。```callback``` 是打开/新建文件成功后的回调函数。
对于 ```callback``` 回调函数，接受两个函数：
- ```err``` 错误标识
- ```fd``` 文件描述符

通过 ```fd``` 文件描述符对象，可以在打开/新建文件后对此文件进行各种文件操作。
实际上，我们也可以通过 ```writeFile``` 或者 ```writeFileSync``` 来进行文件写入（或新建），可以说 ```writeFile``` 和 ```writeFileSync``` 是基于 ```open``` 方法实现的。
## 获取文件信息
通过 ```stat``` 方法可以获取文件或目录的信息，通常我们使用此方法来判断文件或者目录，以及其他的文件类型。
## 写入文件
通过 ```writeFile``` 或 ```writeFileSync``` 可以向文件中写入内容。如果想通过文件描述符进行文件写入，还可以使用 ```write``` 方法。使用 ```writeFile``` 或 ```writeFileSync``` 也可以通过文件描述符向文件中写入内容，这以前前面已经介绍过了。对于 ```read``` 方法也是同理。个人认为，```write``` 和 ```read``` 这两个方法一般是和 ```open``` 方法结合使用的（先打开/新建文件，获取文件描述符后再进行写入或读取）。
## 关闭文件
使用 ```close``` 方法可以对文件进行关闭操作，该方法也是基于文件描述符的。同样，该方法一般也和 ```open``` 方法配合使用。
## 截取文件
使用 ```ftruncate``` 方法可以对文件内容进行截取，该方法也是基于文件描述符的。通过此方法，我们可以截取一部分文件，进行一些校验操作。
## 删除文件
使用 ```unlink``` 方法对文件进行删除。
## 创建目录
通过 ```mkdir``` 方法可以创建一个目录，注意，该方法只支持创建一级目录，不支持创建多级目录。
## 读取目录内容
通过 ```readdir``` 可以读取目录中的文件。具体用法见代码。
## 删除目录
通过 ```rmdir``` 方法可以执行目录的删除操作。